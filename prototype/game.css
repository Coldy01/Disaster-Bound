html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  font-family: 'Press Start 2P', monospace;
  overflow: hidden;
}
body {
  width: 100vw;
  height: 100vh;
}
.game {
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  margin: 0;
  background: none;
  overflow: hidden;
  image-rendering: pixelated;
}
.battlefield {
  position: absolute;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  image-rendering: pixelated;
  overflow: hidden;
}
.sprite {
  position: absolute;
  image-rendering: pixelated;
  background: transparent;
}
/* Player sprite higher up */
#player {
  bottom: 3vh;
  width: 140px;
  z-index: 2;
}
/* Player HP bar just above player sprite */
.player-hp-bar {
  position: absolute;
  left: 8vw;
  bottom: 20vh;
  width: 220px;
  background: #fff;
  padding: 4px;
  border: 4px solid #222;
  font-size: 12px;
  box-shadow: 0 0 0 4px #222;
  border-radius: 0;
  image-rendering: pixelated;
  z-index: 3;
  margin-left: 3%;
  margin-bottom: 24%;
}
/* pag hiwalayin si enemy2 kay enemy, para ma position ng ayos si enemy2*/
#enemy-animation {
  top: 20%;
  right: 10vw;
  transform: translateY(-50%);
  width: 500px;
  z-index: 2;
  margin-right: 20%;
  margin-top: 8%;
}
#enemy2-animation {
  top: 10%;
  right: 10vw;
  transform: translateY(-50%);
  width: 500px;
  z-index: 2;
  margin-right: 20%;
  margin-top: 2%;
}  
/* Enemy HP bar to the left of enemy sprite */
.enemy-hp-bar {
  position: absolute;
  top: 20%;
  right: calc(10vw + 160px);
  transform: translateY(-50%);
  width: 220px;
  background: #fff;
  padding: 4px;
  border: 4px solid #222;
  font-size: 12px;
  box-shadow: 0 0 0 4px #222;
  border-radius: 0;
  image-rendering: pixelated;
  z-index: 3;
  margin-right: 20%;
}
.hp-fill {
  background: linear-gradient(90deg, #44ff44 0%, #228822 100%);
  height: 16px;
  transition: width 0.5s;
  border-radius: 0;
  image-rendering: pixelated;
}
/* Timer in upper right */
.timer {
  position: absolute;
  top: 24px;
  right: 8vw;
  background: #222;
  color: #fff;
  font-size: 16px;
  font-family: 'Press Start 2P', monospace;
  padding: 8px 16px;
  border: 4px solid #ff4444;
  border-radius: 0;
  z-index: 15;
  white-space: nowrap;
  box-shadow: 0 0 0 4px #222;
  image-rendering: pixelated;
}
/* Pause/music button group */
.pause-music-group {
  position: absolute;
  top: 24px;
  left: 8vw;
  z-index: 20;
  display: flex;
  gap: 12px;
}
.pm-btn {
  background: #fff url('https://www.transparenttextures.com/patterns/pixel-weave.png');
  border: 4px solid #222;
  font-family: 'Press Start 2P', monospace;
  font-size: 13px;
  padding: 8px 16px;
  cursor: pointer;
  box-shadow: 0 0 0 4px #222;
  border-radius: 0;
  color: #222;
  image-rendering: pixelated;
  transition: background 0.1s;
}
.pm-btn.active {
  background: #d0d0d0 url('https://www.transparenttextures.com/patterns/pixel-weave.png');
}

/* Fixed message box at bottom left */
.message-box-fixed {
  position: fixed;
  left: 170px;
  bottom: 32px;
  width: 48vw;
  min-width: 320px;
  max-width: 700px;
  background: #fff url('https://www.transparenttextures.com/patterns/pixel-weave.png');
  border: 4px solid #222;
  box-shadow: 0 0 0 4px #222;
  border-radius: 0;
  padding: 16px 24px;
  z-index: 30;
  font-size: 20px;
  color: #222;
  pointer-events: auto;
}
.message {
  font-size: 20px;
  margin: 0;
  background: none;
  border: none;
  box-shadow: none;
  padding: 0;
  image-rendering: pixelated;
  min-height: 80px;
  overflow: auto;
  width: 100%;
  color: #222;
}
#text-content {
  white-space: pre-wrap;
}
#cursor {
  display: inline;
  color: #222;
  animation: blink 1s steps(2) infinite;
}
/* Fixed choices box at bottom right */
.choices-box-fixed {
  position: fixed;
  right: 210px;
  bottom: 32px;
  width: 340px;
  background: #fff url('https://www.transparenttextures.com/patterns/pixel-weave.png');
  box-shadow: 0 0 0 4px #222;
  border-radius: 0;
  padding: 16px 24px;
  z-index: 30;
  pointer-events: auto;
}
.choices {
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
  image-rendering: pixelated;
}
.choices.hidden {
  display: none;
}
.choices button {
  display: block;
  width: 100%;
  padding: 18px 8px;
  background: #fff url('https://www.transparenttextures.com/patterns/pixel-weave.png');
  font-family: 'Press Start 2P', monospace;
  font-size: 20px;
  cursor: pointer;
  color: #222;
  image-rendering: pixelated;
  transition: background 0.1s;
  margin-bottom: 0;
  text-align: left;
}
.choices button:disabled {
  background: #aaa;
  color: #666;
  cursor: not-allowed;
  opacity: 0.7;
}
.choices button:hover:not(:disabled) {
  background: #d0d0d0 url('https://www.transparenttextures.com/patterns/pixel-weave.png');
}
@keyframes blink {
  0%, 50%   { opacity: 1; }
  51%,100%  { opacity: 0; }
}
@keyframes shake {
  0% { transform: translate(0, 0); }
  25% { transform: translate(-5px, 0); }
  50% { transform: translate(5px, 0); }
  75% { transform: translate(-5px, 0); }
  100% { transform: translate(0, 0); }
}
.shake { animation: shake 0.4s; }
@keyframes flash {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(3); }
}
.flash { animation: flash 0.4s; }

.fade-out {
  animation: fadeOut 0.75s ease-out forwards;
}

@keyframes fadeOut {
  to { opacity: 0; }
}
@media (max-width: 900px) {
}

/* Settings Modal */
.settings-modal {
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  background: rgba(0,0,0,0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
}
.settings-modal.hidden {
  display: none;
}
.settings-content {
  background: #fff url('https://www.transparenttextures.com/patterns/pixel-weave.png');
  padding: 24px;
  border: 4px solid #222;
  box-shadow: 0 0 0 4px #222;
  text-align: center;
  font-family: 'Press Start 2P', monospace;
  color: #222;
  width: 400px;
}
.settings-content h2 {
  margin-bottom: 20px;
}
.settings-content button {
  margin-top: 20px;
  padding: 12px 20px;
  border: 4px solid #222;
  cursor: pointer;
  font-family: 'Press Start 2P', monospace;
}
.settings-content input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 8px;
  background: #222;
  outline: none;
  border: 2px solid #222;
  border-radius: 0;
  image-rendering: pixelated;
}
.settings-content input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 20px;
  height: 20px;
  background: #fff;
  border: 2px solid #222;
  cursor: pointer;
  image-rendering: pixelated;
}
.settings-content input[type="range"]::-moz-range-thumb {
  width: 20px;
  height: 20px;
  background: #fff;
  border: 2px solid #222;
  cursor: pointer;
  image-rendering: pixelated;
}
.settings-content label {
  display: block;
  margin-bottom: 10px;
  font-size: 12px;
}


/* Floating animation for sprites after cutscene */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}
.floating {
  animation: float 2s ease-in-out infinite;
}

/* Paused state: disable interactions */
.battlefield.paused {
  pointer-events: none;
}

/* Cutscene fade transitions */
#cutscene {
  transition: opacity 0.5s ease-out;
}

#cutscene.fade-out {
  opacity: 0;
}

/* Effect overlay for flashes and lighting */
.effect-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
  z-index: 10;
  opacity: 0;
  transition: opacity 0.1s;
}

/* Cutscene overlay styling */
#cutscene {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.9);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 99;
  cursor: pointer;
  outline: none; /* Remove default focus outline */
}

/* Enhanced screen shake variations */
.shake-light {
  animation: shakeLight 0.3s;
}

.shake-medium {
  animation: shakeMedium 0.4s;
}

.shake-heavy {
  animation: shakeHeavy 0.5s;
}

@keyframes shakeLight {
  0%, 100% { transform: translate(0, 0); }
  25% { transform: translate(-2px, 0); }
  50% { transform: translate(2px, 0); }
  75% { transform: translate(-2px, 0); }
}

@keyframes shakeMedium {
  0%, 100% { transform: translate(0, 0); }
  25% { transform: translate(-5px, 0); }
  50% { transform: translate(5px, 0); }
  75% { transform: translate(-5px, 0); }
}

@keyframes shakeHeavy {
  0%, 100% { transform: translate(0, 0); }
  25% { transform: translate(-8px, 0); }
  50% { transform: translate(8px, 0); }
  75% { transform: translate(-8px, 0); }
}

/* Color flash effects */
.damage-flash {
  background: rgba(255, 0, 0, 0.4);
  animation: flashEffect 0.5s ease-out;
}

.victory-flash {
  background: rgba(0, 183, 255, 0.4);
  animation: flashEffect 0.8s ease-out;
}

.special-flash {
  background: rgba(255, 215, 0, 0.3);
  animation: flashEffect 0.6s ease-out;
}

.success-flash {
  background: rgba(0, 255, 0, 0.2);
  animation: flashEffect 0.3s ease-out;
}

@keyframes flashEffect {
  0%, 100% { opacity: 0; }
  50% { opacity: 1; }
}

/* Improved flash for sprites */
.flash {
  animation: flash 0.4s;
}
@keyframes flash {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.5); }
}

/* Player Defeat Animation - Earthquake (Enemy 1) */
@keyframes playerDefeatedEarthquake {
  0% { opacity: 1; }
  20% { opacity: 1; }
  40% { opacity: 1; }
  60% { opacity: 1; }
  80% { opacity: 1; }
  100% { opacity: 1; }
}

/* Player Defeat Animation - Fire (Enemy 2) */
@keyframes playerDefeatedFire {
  0% { opacity: 1; }
  33% { opacity: 1; }
  66% { opacity: 1; }
  100% { opacity: 1; }
}

/* Player defeat animation classes */
.player-defeated-earthquake {
  animation: playerDefeatedEarthquake 2s steps(5) infinite;
}

.player-defeated-fire {
  animation: playerDefeatedFire 1.5s steps(3) infinite;
}

/* Ensure defeated frames are properly positioned */
.player-frame.defeated {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}


