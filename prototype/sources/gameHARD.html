<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Disasterbound Battle - Hard Mode</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<link rel="stylesheet" href="game.css" />
</head>
<body>

  <!-- CUTSCENE OVERLAY -->
  <div id="cutscene" style="position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000;color:#fff;display:flex;align-items:center;justify-content:center;z-index:99;font-family:'Press Start 2P',monospace;font-size:2vw;letter-spacing:2px;display:none;">
    <span>Wake up... time is running</span>

  </div>


  <!-- SETTINGS MODAL -->
  <div id="settingsModal" class="settings-modal hidden">
    <div class="settings-content">
      <h2>Settings</h2>
      <label>
        <input type="checkbox" id="toggleSound" checked> Sound
      </label>
      <br><br>
      <label>
        Volume: <span id="volumePercent">100%</span>
        <input type="range" id="volumeSlider" min="0" max="100" value="100" style="width: 100%; margin-top: 10px;">
      </label>
      <br><br>
      <button id="fullscreenBtn">Toggle Fullscreen</button>
      <br><br>
      <button id="backToMainMenu">Back to Main Menu</button>
      <button id="closeSettings">Resume</button>
    </div>
  </div>

  <!-- CONFIRMATION MODAL -->
  <div id="confirmModal" class="settings-modal hidden">
    <div class="settings-content">
      <p>Do you want to go back to main menu?</p>
      <button id="confirmYes" style="background-color: #ff6b6b; color: white; margin: 10px;">Yes</button>
      <button id="confirmNo" style="background-color: #51cf66; color: white; margin: 10px;">No</button>
    </div>
  </div>

  <!-- AUDIO ELEMENTS -->
  <audio id="firstRoundCutscene" src="audios/FirstRound.mp3"></audio>
  <audio id="firstRoundBg" src="audios/FirstRoundsLoopBg.mp3" loop></audio>
  <audio id="secondRoundCutscene" src="audios/SecondRound.mp3" loop></audio>
  <audio id="secondRoundBg" src="audios/SecondRound.mp3" loop></audio>

  <div class="game">
    <div id="effectOverlay" class="effect-overlay"></div>
    <div class="battlefield">
      <div class="pause-music-group">
        <button class="pm-btn" id="settingsBtn">Settings</button>
      </div>
      <div class="player-hp-bar">
        YOU HP:
        <div id="playerHP" class="hp-fill" style="width:100%"></div>
      </div>
      <div class="enemy-hp-bar">
        DISASTER HP:
        <div id="enemyHP" class="hp-fill" style="width:100%"></div>
      </div>
      <div class="timer" id="timer">Time Left: 45s</div>

      <!-- Player -->
      <div id="player" class="sprite">
        <!-- Normal animation frames -->
        <img class="player-frame" src="C/pixil-frame-0.png" style="display: block;" />
        <img class="player-frame" src="C/pixil-frame-1.png" style="display: none;" />
        <img class="player-frame" src="C/pixil-frame-2.png" style="display: none;" />
        <img class="player-frame" src="C/pixil-frame-3.png" style="display: none;" />
        <img class="player-frame" src="C/pixil-frame-4.png" style="display: none;" />
        <img class="player-frame" src="C/pixil-frame-5.png" style="display: none;" />
        <img class="player-frame" src="C/pixil-frame-6.png" style="display: none;" />
        <img class="player-frame" src="C/pixil-frame-7.png" style="display: none;" />
        <img class="player-frame" src="C/pixil-frame-8.png" style="display: none;" />
        
        <!-- Earthquake defeat frames (Enemy 1) -->
        <img class="player-frame defeated earthquake" src="CD/Earthquake/pixil-frame-0.png" style="display: none;" />
        <img class="player-frame defeated earthquake" src="CD/Earthquake/pixil-frame-1.png" style="display: none;" />
        <img class="player-frame defeated earthquake" src="CD/Earthquake/pixil-frame-2.png" style="display: none;" />
        <img class="player-frame defeated earthquake" src="CD/Earthquake/pixil-frame-3.png" style="display: none;" />
        <img class="player-frame defeated earthquake" src="CD/Earthquake/pixil-frame-4.png" style="display: none;" />
        
        <!-- Fire defeat frames (Enemy 2) -->
        <img class="player-frame defeated fire" src="CD/Fire/pixil-frame-0.png" style="display: none;" />
        <img class="player-frame defeated fire" src="CD/Fire/pixil-frame-1.png" style="display: none;" />
        <img class="player-frame defeated fire" src="CD/Fire/pixil-frame-2.png" style="display: none;" />
      </div>

      <!-- Enemy 1 -->
      <div id="enemy-animation" class="sprite enemy-animation" style="height:auto;">
        <div class="sprite-inner">
          <img class="enemy-frame" src="E/pixil-frame-0.png" style="display: none;" />
          <img class="enemy-frame" src="E/pixil-frame-1.png" style="display: none;" />
          <img class="enemy-frame" src="E/pixil-frame-2.png" style="display: none;" />
          <img class="enemy-frame" src="E/pixil-frame-3.png" style="display: none;" />
          <img class="enemy-frame" src="E/pixil-frame-4.png" style="display: none;" />
          <img class="enemy-frame defeated" src="ED/pixil-frame-0.png" style="display: none;" />
          <img class="enemy-frame defeated" src="ED/pixil-frame-1.png" style="display: none;" />
          <img class="enemy-frame defeated" src="ED/pixil-frame-1.png" style="display: none;" />
        </div>
      </div>

      <!-- Enemy 2 -->
      <div id="enemy2-animation" class="sprite enemy-animation" style="height:auto; display:none;">
        <div class="sprite-inner">
          <img class="enemy2-frame" src="F/pixil-frame-0.png" style="display: none;" />
          <img class="enemy2-frame" src="F/pixil-frame-1.png" style="display: none;" />
          <img class="enemy2-frame" src="F/pixil-frame-2.png" style="display: none;" />
          <img class="enemy2-frame" src="F/pixil-frame-3.png" style="display: none;" />
          <img class="enemy2-frame" src="F/pixil-frame-4.png" style="display: none;" />
          <img class="enemy2-frame defeated" src="FD/sprite_0.png" style="display: none;" />
          <img class="enemy2-frame defeated" src="FD/sprite_1.png" style="display: none;" />
          <img class="enemy2-frame defeated" src="FD/sprite_2.png" style="display: none;" />
          <img class="enemy2-frame defeated" src="FD/sprite_3.png" style="display: none;" />
          <img class="enemy2-frame defeated" src="FD/sprite_4.png" style="display: none;" />
          <img class="enemy2-frame defeated" src="FD/sprite_5.png" style="display: none;" />
        </div>
      </div>
    </div>
  </div>

  <!-- Fixed message and choices boxes -->
  <div class="message-box-fixed">
    <div class="message" id="messageBox">
      <span id="text-content"></span><span id="cursor">|</span>
    </div>
  </div>
  <div class="choices-box-fixed">
    <div class="choices hidden" id="choicesArea"></div>
  </div>

<script src="game.js" defer></script>
<script>
document.getElementById('backToMainMenu').addEventListener('click', function() {
  document.getElementById('confirmModal').classList.remove('hidden');
});

document.getElementById('confirmYes').addEventListener('click', function() {
  window.location.href = 'index.html';
});

document.getElementById('confirmNo').addEventListener('click', function() {
  document.getElementById('confirmModal').classList.add('hidden');
});
</script>

</body>
</html>